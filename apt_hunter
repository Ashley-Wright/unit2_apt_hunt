#!/usr/bin/env ruby
require_relative 'lib/complex_parse_arguments'

command = ARGV[0]
type = ARGV[1]

options = ComplexParser.parse
error_message = ComplexParser.validate(options)


if error_message.nil?
  require "sqlite3"
  database = SQLite3::Database.new("apt_hunter_test")
  statement = "insert into complexes(name, zip, parking, website, phone) values('#{options[:name]}', #{options[:zip]}, '#{options[:parking]}', '#{options[:website]}', '#{options[:phone]}')"
  database.execute(statement)
  puts "Complex #{options[:name]} was created."
else
  puts error_message
end
